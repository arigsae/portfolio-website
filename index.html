<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arnau Igualde Sáez - Portfolio</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Open+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" href="public/favicon.svg" type="image/svg+xml">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.1/gsap.min.js"></script>
    
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2c3e50;
            --accent-color: #e74c3c;
            --background-light: #f5f7fa;
            --background-dark: #1a1e23;
            --text-light: #f5f7fa;
            --text-dark: #2c3e50;
            --card-background: rgba(52, 152, 219, 0.1);
        }

        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease;
        }

        .reveal.active {
            opacity: 1;
            transform: translateY(0);
        }

        .gradient-text {
            background: linear-gradient(45deg, #3498db, #2c3e50);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 30px rgba(52, 152, 219, 0.3);
        }

        .glow-link {
            position: relative;
            color: white;
            text-shadow: 0 0 10px rgba(52, 152, 219, 0.5),
                        0 0 20px rgba(52, 152, 219, 0.4),
                        0 0 30px rgba(52, 152, 219, 0.3);
            transition: text-shadow 0.3s ease-in-out;
        }

        .glow-link:hover {
            text-shadow: 0 0 20px rgba(52, 152, 219, 0.7),
                        0 0 30px rgba(52, 152, 219, 0.6),
                        0 0 40px rgba(52, 152, 219, 0.5);
        }
        
        .card {
            backdrop-filter: blur(10px);
            background: var(--card-background);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes glowPulse {
            0% { filter: blur(3px) brightness(0.8); }
            50% { filter: blur(3px) brightness(1); }
            100% { filter: blur(3px) brightness(0.8); }
        }

        #hero-canvas {
            animation: glowPulse 4s ease-in-out infinite;
        }

        body {
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
            background-color: var(--background-dark);
            color: var(--text-light);
        }

        #background-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.1;
            pointer-events: none;
        }

        .main-wrapper {
            position: relative;
            z-index: 1;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .content {
            flex: 1 0 auto;
            padding-bottom: 4rem;
        }

        footer {
            flex-shrink: 0;
            width: 100%;
            position: relative;
            z-index: 2;
        }

        .btn {
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s ease;
            display: inline-block;
        }

        .primary-btn {
            background: linear-gradient(45deg, #3498db, #2c3e50);
            color: white;
        }

        .primary-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 15px rgba(52, 152, 219, 0.3);
        }

        .secondary-btn {
            border: 2px solid #3498db;
            color: #3498db;
        }

        .secondary-btn:hover {
            background: #3498db;
            color: white;
        }

        .project-image {
            background: linear-gradient(45deg, #3498db, #2c3e50);
            width: 100%;
            height: 12rem;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
        }
    </style>
</head>
<body class="bg-gray-900 text-white">
    <canvas id="background-animation"></canvas>

    <div class="main-wrapper">
        <!-- Navegación -->
        <nav class="fixed w-full z-50 bg-gray-900 bg-opacity-90 backdrop-filter backdrop-blur-lg">
            <div class="max-w-6xl mx-auto px-4">
                <div class="flex justify-between items-center py-4">
                    <a href="#" class="gradient-text text-xl font-bold">Arnau Igualde Sáez</a>
                    <div class="flex space-x-8">
                        <a href="#projects" class="hover:text-blue-400 transition-colors">Proyectos</a>
                        <a href="#publications" class="hover:text-blue-400 transition-colors">Publicaciones</a>
                        <a href="cv.html" class="hover:text-blue-400 transition-colors">CV</a>
                        <a href="about.html" class="glow-link hover:text-blue-400 transition-colors">Sobre mí</a>
                    </div>
                </div>
            </div>
        </nav>

        <div class="content">
            <!-- Hero Section -->
            <section class="min-h-screen flex flex-col items-center justify-center relative overflow-hidden">
                <!-- Neural Network Animation Container -->
                <div class="absolute inset-0 flex items-center justify-center opacity-70">
                    <canvas id="hero-canvas"></canvas>
                </div>
                
                <!-- Hero content with enhanced glass effect -->
                <div class="text-center z-10 p-12 rounded-2xl 
                            backdrop-blur-xl 
                            bg-gradient-to-br from-white/10 to-white/5
                            border border-white/10
                            shadow-[0_8px_32px_0_rgba(31,38,135,0.37)]
                            hover:backdrop-blur-2xl hover:bg-white/20
                            transition-all duration-300">
                    <div class="relative">
                        <!-- Glass reflection effect -->
                        <div class="absolute inset-0 rounded-2xl bg-gradient-to-br from-white/50 to-transparent opacity-10"></div>
                        
                        <h1 class="text-6xl font-bold mb-4 gradient-text">¡Bienvenido!</h1>
                        <p class="text-xl text-gray-300 mb-8 max-w-2xl">
                            Soy Arnau Igualde Sáez, investigador y doctorando en Ingeniería y Producción Industrial en la UPV.
                            Mi trabajo se centra en la aplicación de técnicas de investigación operativa para modelar la planificación de recursos en la UPV.
                        </p>
                        <div class="flex justify-center gap-4">
                            <a href="#projects" class="btn primary-btn">Ver Proyectos</a>
                            <a href="about.html" class="btn secondary-btn">Sobre mí</a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Sección Sobre Mí -->
            <section id="about" class="py-20">
                <div class="max-w-6xl mx-auto px-4">
                    <h2 class="text-4xl font-bold mb-12 text-center gradient-text leading-tight">Sobre Mí</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div class="card rounded-xl overflow-hidden reveal">
                            <div class="p-6">
                                <h3 class="text-2xl font-semibold mb-4">Investigador & Doctorando</h3>
                                <p class="text-gray-400 mb-4">
                                    Soy doctorando en la Universitat Politècnica de València, centrado en Ingeniería y Producción Industrial. Mi investigación se enfoca en la aplicación de técnicas de Inteligencia Artificial para optimizar procesos industriales.
                                </p>
                                <p class="text-gray-400 mb-4">
                                    Me apasiona desarrollar soluciones innovadoras que puedan tener un impacto positivo en áreas como la industria sostenible, la optimización energética y la mejora de procesos productivos.
                                </p>
                                <a href="about.html" class="text-blue-400 inline-flex items-center">
                                    Conoce más sobre mí
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                                    </svg>
                                </a>
                            </div>
                        </div>
                        <div class="card rounded-xl overflow-hidden reveal">
                            <div class="p-6">
                                <h3 class="text-2xl font-semibold mb-4">Formación Académica</h3>
                                <ul class="text-gray-400 space-y-4">
                                    <li class="flex items-start">
                                        <div class="min-w-[24px] mr-2 mt-1">
                                            <i class="fas fa-graduation-cap text-blue-400"></i>
                                        </div>
                                        <div>
                                            <span class="font-medium text-white">Doctorando en Ingeniería y Producción Industrial</span><br>
                                            <span class="text-sm">Universitat Politècnica de València (2024-2027)</span>
                                        </div>
                                    </li>
                                    <li class="flex items-start">
                                        <div class="min-w-[24px] mr-2 mt-1">
                                            <i class="fas fa-graduation-cap text-blue-400"></i>
                                        </div>
                                        <div>
                                            <span class="font-medium text-white">Máster Universitario en Ingeniería Industrial</span><br>
                                            <span class="text-sm">Universitat Politècnica de València (2022-2024)</span>
                                        </div>
                                    </li>
                                    <li class="flex items-start">
                                        <div class="min-w-[24px] mr-2 mt-1">
                                            <i class="fas fa-graduation-cap text-blue-400"></i>
                                        </div>
                                        <div>
                                            <span class="font-medium text-white">Grado en Ingeniería en Tecnologías Industriales</span><br>
                                            <span class="text-sm">Universitat Politècnica de València (2017-2021)</span>
                                        </div>
                                    </li>
                                </ul>
                                <div class="mt-4">
                                    <a href="cv.html" class="text-blue-400 inline-flex items-center">
                                        Ver CV completo
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                                        </svg>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Sección Proyectos -->
            <section id="projects" class="py-20">
                <div class="max-w-6xl mx-auto px-4">
                    <h2 class="text-4xl font-bold mb-12 text-center gradient-text leading-tight">Proyectos Destacados</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                        <!-- Proyecto 1 -->
                        <div class="card rounded-xl overflow-hidden reveal">
                            <div class="relative">
                                <div class="project-image">
                                    <i class="fas fa-brain"></i>
                                </div>
                                <div class="absolute inset-0 bg-gradient-to-t from-gray-900 to-transparent"></div>
                            </div>
                            <div class="p-6">
                                <h3 class="text-xl font-semibold mb-2">Optimización de Procesos Industriales mediante IA</h3>
                                <p class="text-gray-400 mb-4">Desarrollo de modelos predictivos para la optimización de procesos de fabricación, reduciendo el consumo energético en un 15%.</p>
                                <div class="flex flex-wrap gap-2">
                                    <span class="bg-blue-900 bg-opacity-50 px-3 py-1 rounded-full text-sm">Python</span>
                                    <span class="bg-blue-900 bg-opacity-50 px-3 py-1 rounded-full text-sm">Machine Learning</span>
                                    <span class="bg-blue-900 bg-opacity-50 px-3 py-1 rounded-full text-sm">Industria 4.0</span>
                                </div>
                                <div class="mt-4">
                                    <a href="https://github.com/arigsae/optimizacion-procesos" target="_blank" class="text-blue-400 mr-4">
                                        <i class="fab fa-github"></i> Repositorio
                                    </a>
                                    <a href="#" target="_blank" class="text-blue-400">
                                        <i class="fas fa-external-link-alt"></i> Demo
                                    </a>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Proyecto 2 -->
                        <div class="card rounded-xl overflow-hidden reveal">
                            <div class="relative">
                                <div class="project-image">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <div class="absolute inset-0 bg-gradient-to-t from-gray-900 to-transparent"></div>
                            </div>
                            <div class="p-6">
                                <h3 class="text-xl font-semibold mb-2">Análisis Predictivo de Eficiencia Energética</h3>
                                <p class="text-gray-400 mb-4">Sistema de análisis de series temporales para la predicción del consumo energético en plantas industriales.</p>
                                <div class="flex flex-wrap gap-2">
                                    <span class="bg-blue-900 bg-opacity-50 px-3 py-1 rounded-full text-sm">R</span>
                                    <span class="bg-blue-900 bg-opacity-50 px-3 py-1 rounded-full text-sm">Series Temporales</span>
                                    <span class="bg-blue-900 bg-opacity-50 px-3 py-1 rounded-full text-sm">Data Viz</span>
                                </div>
                                <div class="mt-4">
                                    <a href="#" target="_blank" class="text-blue-400 mr-4">
                                        <i class="fab fa-github"></i> Repositorio
                                    </a>
                                    <a href="#" target="_blank" class="text-blue-400">
                                        <i class="fas fa-external-link-alt"></i> Informe
                                    </a>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Proyecto 3 -->
                        <div class="card rounded-xl overflow-hidden reveal">
                            <div class="relative">
                                <div class="project-image">
                                    <i class="fas fa-leaf"></i>
                                </div>
                                <div class="absolute inset-0 bg-gradient-to-t from-gray-900 to-transparent"></div>
                            </div>
                            <div class="p-6">
                                <h3 class="text-xl font-semibold mb-2">Sistema de Monitorización para Industria Sostenible</h3>
                                <p class="text-gray-400 mb-4">Plataforma IoT para la monitorización en tiempo real de parámetros ambientales y energéticos.</p>
                                <div class="flex flex-wrap gap-2">
                                    <span class="bg-blue-900 bg-opacity-50 px-3 py-1 rounded-full text-sm">IoT</span>
                                    <span class="bg-blue-900 bg-opacity-50 px-3 py-1 rounded-full text-sm">Python</span>
                                    <span class="bg-blue-900 bg-opacity-50 px-3 py-1 rounded-full text-sm">Dashboard</span>
                                </div>
                                <div class="mt-4">
                                    <a href="#" target="_blank" class="text-blue-400 mr-4">
                                        <i class="fab fa-github"></i> Repositorio
                                    </a>
                                    <a href="#" target="_blank" class="text-blue-400">
                                        <i class="fas fa-external-link-alt"></i> Publicación
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Sección Publicaciones -->
            <section id="publications" class="py-20">
                <div class="max-w-6xl mx-auto px-4">
                    <h2 class="text-4xl font-bold mb-12 text-center gradient-text leading-tight">Publicaciones</h2>
                    <div class="space-y-8">
                        <div class="publication-item card rounded-xl p-6 reveal">
                            <div class="flex flex-col md:flex-row gap-6">
                                <div class="publication-year text-3xl font-bold text-blue-400 md:w-24 text-center md:text-left">
                                    2023
                                </div>
                                <div class="flex-1">
                                    <h3 class="text-xl font-semibold mb-2">Enfoque Innovador de IA para la Optimización de Procesos Industriales</h3>
                                    <p class="text-gray-400 mb-1">Igualde Sáez A., Colaborador B., Director C.</p>
                                    <p class="text-gray-500 italic mb-4">Revista de Inteligencia Artificial Industrial, 15(3), 245-260</p>
                                    <div class="flex gap-4">
                                        <a href="#" target="_blank" class="text-blue-400">
                                            <i class="fas fa-file-pdf"></i> PDF
                                        </a>
                                        <a href="#" target="_blank" class="text-blue-400">
                                            <i class="fas fa-external-link-alt"></i> DOI
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="publication-item card rounded-xl p-6 reveal">
                            <div class="flex flex-col md:flex-row gap-6">
                                <div class="publication-year text-3xl font-bold text-blue-400 md:w-24 text-center md:text-left">
                                    2022
                                </div>
                                <div class="flex-1">
                                    <h3 class="text-xl font-semibold mb-2">Avances en Análisis de Series Temporales para la Predicción de Consumo Energético</h3>
                                    <p class="text-gray-400 mb-1">Colaborador A., Igualde Sáez A., Investigador C.</p>
                                    <p class="text-gray-500 italic mb-4">Actas del Congreso Internacional de Ciencia de Datos (CICD 2022)</p>
                                    <div class="flex gap-4">
                                        <a href="#" target="_blank" class="text-blue-400">
                                            <i class="fas fa-file-pdf"></i> PDF
                                        </a>
                                        <a href="#" target="_blank" class="text-blue-400">
                                            <i class="fas fa-external-link-alt"></i> Congreso
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="publication-item card rounded-xl p-6 reveal">
                            <div class="flex flex-col md:flex-row gap-6">
                                <div class="publication-year text-3xl font-bold text-blue-400 md:w-24 text-center md:text-left">
                                    2021
                                </div>
                                <div class="flex-1">
                                    <h3 class="text-xl font-semibold mb-2">Sistema de Monitorización Eficiente para Entornos Industriales</h3>
                                    <p class="text-gray-400 mb-1">Igualde Sáez A., Autor Principal A.</p>
                                    <p class="text-gray-500 italic mb-4">IEEE Transactions on Industrial Informatics, 8(2), 112-125</p>
                                    <div class="flex gap-4">
                                        <a href="#" target="_blank" class="text-blue-400">
                                            <i class="fas fa-file-pdf"></i> PDF
                                        </a>
                                        <a href="#" target="_blank" class="text-blue-400">
                                            <i class="fas fa-external-link-alt"></i> DOI
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Footer -->
        <footer class="bg-gray-800 py-6">
            <div class="max-w-6xl mx-auto px-6">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8">
                    <div>
                        <h3 class="text-xl font-bold mb-4 gradient-text">Arnau Igualde Sáez</h3>
                        <p class="text-gray-400">Investigador y doctorando especializado en IA aplicada a la optimización de procesos industriales.</p>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold mb-4">Enlaces rápidos</h3>
                        <ul class="space-y-2 text-gray-400">
                            <li><a href="#" class="hover:text-blue-400">Inicio</a></li>
                            <li><a href="#about" class="hover:text-blue-400">Sobre mí</a></li>
                            <li><a href="#projects" class="hover:text-blue-400">Proyectos</a></li>
                            <li><a href="#publications" class="hover:text-blue-400">Publicaciones</a></li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold mb-4">Perfiles</h3>
                        <div class="flex space-x-4 mt-4">
                            <a href="https://github.com/arigsae" target="_blank" class="text-gray-400 hover:text-white">
                                <i class="fab fa-github"></i>
                            </a>
                            <a href="https://www.linkedin.com/in/arigsae" target="_blank" class="text-gray-400 hover:text-white">
                                <i class="fab fa-linkedin"></i>
                            </a>
                            <a href="https://scholar.google.com/citations?user=yourid" target="_blank" class="text-gray-400 hover:text-white">
                                <i class="fas fa-graduation-cap"></i>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="border-t border-gray-700 pt-6">
                    <p class="text-gray-500 text-center">&copy; <span id="current-year"></span> Arnau Igualde Sáez. Todos los derechos reservados.</p>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // Define the year in footer
        document.getElementById('current-year').textContent = new Date().getFullYear();

        // Background Animation - Neural Network Visualization
        function initBackground() {
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ 
                canvas: document.getElementById('background-animation'), 
                alpha: true 
            });
            
            renderer.setSize(window.innerWidth, window.innerHeight);

            // Create neural network
            const neurons = [];
            const connections = [];
            const layers = [10, 14, 14, 10]; // Number of neurons per layer
            const layerDistance = 150;
            const neuronSpacing = 40;
            
            // Create neurons for each layer
            let neuronIndex = 0;
            for (let layer = 0; layer < layers.length; layer++) {
                for (let i = 0; i < layers[layer]; i++) {
                    const neuronGeometry = new THREE.SphereGeometry(3, 16, 16);
                    const neuronMaterial = new THREE.MeshBasicMaterial({
                        color: 0x3498db,
                        transparent: true,
                        opacity: 0.7
                    });
                    
                    const neuron = new THREE.Mesh(neuronGeometry, neuronMaterial);
                    
                    // Position in layer
                    const offsetY = (layers[layer] * neuronSpacing) / 2;
                    neuron.position.x = layer * layerDistance - (layerDistance * (layers.length - 1)) / 2;
                    neuron.position.y = i * neuronSpacing - offsetY;
                    neuron.position.z = 0;
                    
                    // Add metadata
                    neuron.userData = {
                        id: neuronIndex++,
                        layer: layer,
                        pulseFrequency: 0.5 + Math.random() * 1.5,
                        pulsePhase: Math.random() * Math.PI * 2
                    };
                    
                    neurons.push(neuron);
                    scene.add(neuron);
                }
            }
            
            // Create connections between neurons of adjacent layers
            for (let layer = 0; layer < layers.length - 1; layer++) {
                const currentLayerNeurons = neurons.filter(n => n.userData.layer === layer);
                const nextLayerNeurons = neurons.filter(n => n.userData.layer === layer + 1);
                
                for (const sourceNeuron of currentLayerNeurons) {
                    for (const targetNeuron of nextLayerNeurons) {
                        // Only connect some neurons (random)
                        if (Math.random() > 0.7) continue;
                        
                        const lineGeometry = new THREE.BufferGeometry().setFromPoints([
                            sourceNeuron.position,
                            targetNeuron.position
                        ]);
                        
                        const lineMaterial = new THREE.LineBasicMaterial({
                            color: 0x3498db,
                            transparent: true,
                            opacity: 0.2
                        });
                        
                        const connection = new THREE.Line(lineGeometry, lineMaterial);
                        connection.userData = {
                            source: sourceNeuron.userData.id,
                            target: targetNeuron.userData.id,
                            pulseFrequency: 0.5 + Math.random() * 1.5,
                            pulsePhase: Math.random() * Math.PI * 2,
                            strength: 0.2 + Math.random() * 0.3
                        };
                        
                        connections.push(connection);
                        scene.add(connection);
                    }
                }
            }
            
            // Create activation pulses
            const pulses = [];
            const maxPulses = 5;
            
            function createPulse() {
                if (pulses.length >= maxPulses) return;
                
                // Pick random neurons from first layer
                const sourceLayer = neurons.filter(n => n.userData.layer === 0);
                const startNeuron = sourceLayer[Math.floor(Math.random() * sourceLayer.length)];
                
                const pulseGeometry = new THREE.SphereGeometry(4, 16, 16);
                const pulseMaterial = new THREE.MeshBasicMaterial({
                    color: 0x3498db,
                    transparent: true,
                    opacity: 0.8
                });
                
                const pulse = new THREE.Mesh(pulseGeometry, pulseMaterial);
                pulse.position.copy(startNeuron.position);
                pulse.userData = {
                    neuronId: startNeuron.userData.id,
                    progress: 0,
                    path: [startNeuron.userData.id],
                    currentConnection: null,
                    speed: 0.01 + Math.random() * 0.02
                };
                
                pulses.push(pulse);
                scene.add(pulse);
            }
            
            function updatePulses(time) {
                // Occasionally create new pulses
                if (Math.random() > 0.98) {
                    createPulse();
                }
                
                for (let i = pulses.length - 1; i >= 0; i--) {
                    const pulse = pulses[i];
                    const currentNeuron = neurons.find(n => n.userData.id === pulse.userData.neuronId);
                    
                    // If no current connection, find next one
                    if (!pulse.userData.currentConnection) {
                        const possibleConnections = connections.filter(c => 
                            c.userData.source === pulse.userData.neuronId && 
                            !pulse.userData.path.includes(c.userData.target)
                        );
                        
                        // If no more connections, remove pulse
                        if (possibleConnections.length === 0) {
                            scene.remove(pulse);
                            pulses.splice(i, 1);
                            continue;
                        }
                        
                        // Pick random connection to follow
                        pulse.userData.currentConnection = possibleConnections[
                            Math.floor(Math.random() * possibleConnections.length)
                        ];
                        pulse.userData.progress = 0;
                    }
                    
                    // Move along current connection
                    const connection = pulse.userData.currentConnection;
                    const sourceNeuron = neurons.find(n => n.userData.id === connection.userData.source);
                    const targetNeuron = neurons.find(n => n.userData.id === connection.userData.target);
                    
                    // Update progress
                    pulse.userData.progress += pulse.userData.speed;
                    
                    // Interpolate position
                    pulse.position.lerpVectors(sourceNeuron.position, targetNeuron.position, pulse.userData.progress);
                    
                    // Highlight connection
                    connection.material.opacity = 0.5 + Math.sin(time * 10) * 0.3;
                    connection.material.color.setHSL(0.6, 1, 0.5 + Math.sin(time * 10) * 0.3);
                    
                    // If reached target neuron
                    if (pulse.userData.progress >= 1) {
                        // Activate target neuron
                        targetNeuron.material.opacity = 1;
                        targetNeuron.scale.set(1.5, 1.5, 1.5);
                        
                        // Update pulse state
                        pulse.userData.neuronId = connection.userData.target;
                        pulse.userData.path.push(connection.userData.target);
                        pulse.userData.currentConnection = null;
                        
                        // If reached output layer, remove pulse
                        if (targetNeuron.userData.layer === layers.length - 1) {
                            setTimeout(() => {
                                scene.remove(pulse);
                                pulses.splice(pulses.indexOf(pulse), 1);
                            }, 500);
                        }
                    }
                }
            }
            
            camera.position.z = 400;
            let time = 0;
            
            function animate() {
                requestAnimationFrame(animate);
                time += 0.01;
                
                // Rotate entire network slightly
                scene.rotation.y = Math.sin(time * 0.1) * 0.1;
                scene.rotation.x = Math.sin(time * 0.15) * 0.05;
                
                // Update neurons (pulsing effect)
                neurons.forEach(neuron => {
                    const pulse = 0.8 + Math.sin(time * neuron.userData.pulseFrequency + neuron.userData.pulsePhase) * 0.2;
                    neuron.scale.set(pulse, pulse, pulse);
                    
                    // Reset opacity (it may have been changed by pulses)
                    neuron.material.opacity = 0.5 + Math.sin(time + neuron.userData.id * 0.1) * 0.2;
                });
                
                // Update connections
                connections.forEach(connection => {
                    connection.material.opacity = 0.1 + Math.sin(time * connection.userData.pulseFrequency + connection.userData.pulsePhase) * 0.1;
                });
                
                // Update pulses
                updatePulses(time);
                
                renderer.render(scene, camera);
            }
            
            // Start animation
            animate();
        }

        // Neural Network Animation for Hero
        function createNeuralNetwork() {
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ 
                alpha: true, 
                canvas: document.getElementById('hero-canvas'),
                antialias: true
            });
            
            function updateSize() {
                renderer.setSize(window.innerWidth, window.innerHeight);
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
            }
            window.addEventListener('resize', updateSize);
            updateSize();
            
            // Create 3D Neural Network
            const networkGroup = new THREE.Group();
            scene.add(networkGroup);
            
            const layers = [8, 12, 12, 8]; // Neurons per layer
            const layerDistance = 50;
            const neuronPositions = [];
            const neurons = [];
            const connections = [];
            
            // Create neurons
            let neuronId = 0;
            for (let l = 0; l < layers.length; l++) {
                const numNeurons = layers[l];
                const layerNeurons = [];
                
                for (let i = 0; i < numNeurons; i++) {
                    // Position in circle formation
                    const angle = (i / numNeurons) * Math.PI * 2;
                    const radius = 30;
                    const x = l * layerDistance - (layerDistance * (layers.length - 1)) / 2;
                    const y = Math.sin(angle) * radius;
                    const z = Math.cos(angle) * radius;
                    
                    const neuronGeometry = new THREE.SphereGeometry(2.5, 16, 16);
                    const neuronMaterial = new THREE.MeshPhongMaterial({
                        color: 0x3498db,
                        emissive: 0x3498db,
                        emissiveIntensity: 0.3,
                        specular: 0xffffff,
                        shininess: 100
                    });
                    
                    const neuron = new THREE.Mesh(neuronGeometry, neuronMaterial);
                    neuron.position.set(x, y, z);
                    neuron.userData = {
                        id: neuronId++,
                        layer: l,
                        pulseSpeed: 0.5 + Math.random() * 1.5
                    };
                    
                    neurons.push(neuron);
                    layerNeurons.push(neuron);
                    neuronPositions.push({ x, y, z });
                    networkGroup.add(neuron);
                }
            }
            
            // Create connections between layers
            for (let l = 0; l < layers.length - 1; l++) {
                const currentLayerNeurons = neurons.filter(n => n.userData.layer === l);
                const nextLayerNeurons = neurons.filter(n => n.userData.layer === l + 1);
                
                for (let i = 0; i < currentLayerNeurons.length; i++) {
                    for (let j = 0; j < nextLayerNeurons.length; j++) {
                        // Create only some connections (sparse)
                        if (Math.random() > 0.3) continue;
                        
                        const sourceNeuron = currentLayerNeurons[i];
                        const targetNeuron = nextLayerNeurons[j];
                        
                        const curve = new THREE.QuadraticBezierCurve3(
                            sourceNeuron.position,
                            new THREE.Vector3(
                                (sourceNeuron.position.x + targetNeuron.position.x) / 2,
                                (sourceNeuron.position.y + targetNeuron.position.y) / 2 + (Math.random() - 0.5) * 20,
                                (sourceNeuron.position.z + targetNeuron.position.z) / 2 + (Math.random() - 0.5) * 20
                            ),
                            targetNeuron.position
                        );
                        
                        const points = curve.getPoints(20);
                        const lineGeometry = new THREE.BufferGeometry().setFromPoints(points);
                        const lineMaterial = new THREE.LineBasicMaterial({
                            color: 0x3498db,
                            transparent: true,
                            opacity: 0.2
                        });
                        
                        const connection = new THREE.Line(lineGeometry, lineMaterial);
                        connection.userData = {
                            source: sourceNeuron.userData.id,
                            target: targetNeuron.userData.id,
                            curve: curve
                        };
                        
                        connections.push(connection);
                        networkGroup.add(connection);
                    }
                }
            }
            
            // Add pulses (data flowing through network)
            const pulses = [];
            const maxPulses = 8;
            
            function createPulse() {
                if (pulses.length >= maxPulses) return;
                
                // Select random neuron from first layer
                const firstLayer = neurons.filter(n => n.userData.layer === 0);
                const startNeuron = firstLayer[Math.floor(Math.random() * firstLayer.length)];
                
                // Find connections from this neuron
                const outgoingConnections = connections.filter(c => c.userData.source === startNeuron.userData.id);
                if (outgoingConnections.length === 0) return;
                
                // Select random connection
                const connection = outgoingConnections[Math.floor(Math.random() * outgoingConnections.length)];
                
                // Create pulse
                const pulseGeometry = new THREE.SphereGeometry(1.5, 12, 12);
                const pulseMaterial = new THREE.MeshPhongMaterial({
                    color: 0x3498db,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.8,
                    transparent: true,
                    opacity: 0.8
                });
                
                const pulse = new THREE.Mesh(pulseGeometry, pulseMaterial);
                pulse.position.copy(startNeuron.position);
                pulse.userData = {
                    connection: connection,
                    progress: 0,
                    speed: 0.01 + Math.random() * 0.03,
                    path: [startNeuron.userData.id]
                };
                
                pulses.push(pulse);
                networkGroup.add(pulse);
            }
            
            // Add lighting
            const mainLight = new THREE.PointLight(0xffffff, 1.5, 300);
            mainLight.position.set(0, 50, 100);
            scene.add(mainLight);
            
            const ambientLight = new THREE.AmbientLight(0x404040, 0.6);
            scene.add(ambientLight);
            
            const blueLight = new THREE.PointLight(0x3498db, 1, 200);
            blueLight.position.set(-50, 0, 50);
            scene.add(blueLight);
            
            camera.position.z = 150;
            camera.position.y = 30;
            camera.lookAt(0, 0, 0);
            
            let time = 0;
            
            function animate() {
                requestAnimationFrame(animate);
                time += 0.01;
                
                // Rotate network slightly
                networkGroup.rotation.y = Math.sin(time * 0.2) * 0.5;
                networkGroup.rotation.x = Math.sin(time * 0.15) * 0.3;
                
                // Update neurons
                neurons.forEach(neuron => {
                    neuron.material.emissiveIntensity = 0.3 + Math.sin(time * neuron.userData.pulseSpeed) * 0.2;
                });
                
                // Occasional create new pulse
                if (Math.random() > 0.98) {
                    createPulse();
                }
                
                // Update pulses
                for (let i = pulses.length - 1; i >= 0; i--) {
                    const pulse = pulses[i];
                    pulse.userData.progress += pulse.userData.speed;
                    
                    // Get position along the curve
                    const point = pulse.userData.connection.userData.curve.getPointAt(pulse.userData.progress);
                    pulse.position.copy(point);
                    
                    // If reached end
                    if (pulse.userData.progress >= 1) {
                        const targetNeuron = neurons.find(n => n.userData.id === pulse.userData.connection.userData.target);
                        
                        // Activate target neuron
                        targetNeuron.material.emissiveIntensity = 1;
                        targetNeuron.scale.set(1.5, 1.5, 1.5);
                        setTimeout(() => {
                            targetNeuron.scale.set(1, 1, 1);
                        }, 300);
                        
                        // If target is in last layer, remove pulse
                        if (targetNeuron.userData.layer === layers.length - 1) {
                            networkGroup.remove(pulse);
                            pulses.splice(i, 1);
                        } else {
                            // Find new connections from target
                            const outgoingConnections = connections.filter(c => 
                                c.userData.source === targetNeuron.userData.id &&
                                !pulse.userData.path.includes(c.userData.target)
                            );
                            
                            if (outgoingConnections.length === 0) {
                                // No more connections, remove pulse
                                networkGroup.remove(pulse);
                                pulses.splice(i, 1);
                            } else {
                                // Select random new connection
                                const newConnection = outgoingConnections[Math.floor(Math.random() * outgoingConnections.length)];
                                pulse.userData.connection = newConnection;
                                pulse.userData.progress = 0;
                                pulse.userData.path.push(targetNeuron.userData.id);
                            }
                        }
                    }
                }
                
                renderer.render(scene, camera);
            }
            
            animate();
        }
        
        // Scroll reveal
        function reveal() {
            const reveals = document.querySelectorAll('.reveal');
            reveals.forEach(element => {
                const elementTop = element.getBoundingClientRect().top;
                const elementVisible = 150;
                if (elementTop < window.innerHeight - elementVisible) {
                    element.classList.add('active');
                }
            });
        }

        // Initialize everything
        window.addEventListener('load', () => {
            initBackground();
            createNeuralNetwork();
            window.addEventListener('scroll', reveal);
            reveal();
        });

        // Handle window resize
        window.addEventListener('resize', () => {
            const canvas = document.getElementById('background-animation');
            if (!canvas) return;
            
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ canvas: canvas, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>
</body>
</html>